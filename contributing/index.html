



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-2.9.0">
    
    
      
        <title>Overview - illumos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.23c5c491.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.0c1f321e.js"></script>
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#contributing-to-illumos" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="" title="illumos" class="md-header-nav__button md-logo">
          
            <img src="../assets/images/illumos.svg">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
        
          <div class="md-flex__cell md-flex__cell--shrink">
            <div class="md-header-nav__source">
              


  


  <a href="https://github.com/illumos/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      illumos/docs
    </div>
  </a>

            </div>
          </div>
        
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../assets/images/illumos.svg">
      
    </span>
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/illumos/docs/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      illumos/docs
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      About
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        About
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/" title="What is illumos?" class="md-nav__link">
      What is illumos?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/who/" title="Who uses illumos?" class="md-nav__link">
      Who uses illumos?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/distro/" title="Distributions" class="md-nav__link">
      Distributions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/leadership/" title="Leadership" class="md-nav__link">
      Leadership
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/logo/" title="Logo" class="md-nav__link">
      Logo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      History
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        History
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../about/history/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/announcement/" title="Announcement" class="md-nav__link">
      Announcement
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/bugs/" title="Bug Reporting" class="md-nav__link">
      Bug Reporting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      Debugging
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        Debugging
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/debug-systems/" title="Systems" class="md-nav__link">
      Systems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide/debug-apps/" title="Applications" class="md-nav__link">
      Applications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../developers/build/" title="Building illumos" class="md-nav__link">
      Building illumos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../developers/flagdays/" title="Flag Days" class="md-nav__link">
      Flag Days
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Contributing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Contributing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Overview
      </label>
    
    <a href="./" title="Overview" class="md-nav__link md-nav__link--active">
      Overview
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-an-area-to-contribute-to" title="Finding An Area To Contribute To" class="md-nav__link">
    Finding An Area To Contribute To
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-the-code" title="Writing The Code" class="md-nav__link">
    Writing The Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" title="Testing" class="md-nav__link">
    Testing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-changes" title="All changes" class="md-nav__link">
    All changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-a-single-program" title="Changing a single program" class="md-nav__link">
    Changing a single program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-implementation-of-a-library" title="Changing the implementation of a library" class="md-nav__link">
    Changing the implementation of a library
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-implementation-of-a-driver-or-adding-a-new-driver" title="Changing the implementation of a driver or adding a new driver" class="md-nav__link">
    Changing the implementation of a driver or adding a new driver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-core-kernel-or-multiple-interconnected-binaries" title="Changing the core kernel or multiple interconnected binaries" class="md-nav__link">
    Changing the core kernel or multiple interconnected binaries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-review" title="Code Review" class="md-nav__link">
    Code Review
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ensuring-adequate-review" title="Ensuring adequate review" class="md-nav__link">
    Ensuring adequate review
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-patch" title="Submitting A Patch" class="md-nav__link">
    Submitting A Patch
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="quality/" title="On Quality" class="md-nav__link">
      On Quality
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="qds/" title="Quality Death Spiral" class="md-nav__link">
      Quality Death Spiral
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="docs/" title="Documentation" class="md-nav__link">
      Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Community
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Community
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../community/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../community/lists/" title="Mailing Lists" class="md-nav__link">
      Mailing Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../community/events/" title="Events" class="md-nav__link">
      Events
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../community/videos/" title="Videos" class="md-nav__link">
      Videos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" title="Overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finding-an-area-to-contribute-to" title="Finding An Area To Contribute To" class="md-nav__link">
    Finding An Area To Contribute To
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-the-code" title="Writing The Code" class="md-nav__link">
    Writing The Code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing" title="Testing" class="md-nav__link">
    Testing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-changes" title="All changes" class="md-nav__link">
    All changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-a-single-program" title="Changing a single program" class="md-nav__link">
    Changing a single program
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-implementation-of-a-library" title="Changing the implementation of a library" class="md-nav__link">
    Changing the implementation of a library
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-implementation-of-a-driver-or-adding-a-new-driver" title="Changing the implementation of a driver or adding a new driver" class="md-nav__link">
    Changing the implementation of a driver or adding a new driver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-core-kernel-or-multiple-interconnected-binaries" title="Changing the core kernel or multiple interconnected binaries" class="md-nav__link">
    Changing the core kernel or multiple interconnected binaries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#code-review" title="Code Review" class="md-nav__link">
    Code Review
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ensuring-adequate-review" title="Ensuring adequate review" class="md-nav__link">
    Ensuring adequate review
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submitting-a-patch" title="Submitting A Patch" class="md-nav__link">
    Submitting A Patch
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/illumos/docs/edit/master/docs/contributing/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="contributing-to-illumos">Contributing to illumos<a class="headerlink" href="#contributing-to-illumos" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Committing code to illumos can seem very daunting. To get started, you might
consider watching <a href="https://zinascii.com/">Ryan Zezeski</a> going through fixing a
bug in ZFS in this "illumos Day" talk, which includes submitting a patch for
integration into <code>illumos-gate.git</code>.</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=HXjIz-RzhK8">video</a></li>
<li><a href="http://zinascii.com/pub/talks/fixing-bugs-in-illumos.pdf">slides</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">RTI Process</p>
<p>The Request To Integrate (RTI) process is also documented in the <a href="https://illumos.org/books/dev/integrating.html">illumos
Developer's Guide</a>.</p>
</div>
<h2 id="finding-an-area-to-contribute-to">Finding An Area To Contribute To<a class="headerlink" href="#finding-an-area-to-contribute-to" title="Permanent link">&para;</a></h2>
<p>If you're not sure what you want to work on, you can start by looking at our
<a href="https://www.illumos.org/issues?query_id=15">list of bite-site bugs</a> which
should be easy for newcomers to pick up. You can also look at the entire list
of issues and see if any with status "New" fit your skill set.</p>
<p>If you are adding a new feature or addressing a problem not currently on our
<a href="https://www.illumos.org/projects/illumos-gate/issues">list of issues</a>, please
<a href="https://www.illumos.org/projects/illumos-gate/issues/new">create a new issue</a>
describing it. You need to create an account in the bug tracker in order to be
able to file issues.</p>
<p>Before you start working on the code, it is advisable to first ask on either
the <a href="../community/lists/">developer mailing list</a> or the <a href="../community/#irc-channels">IRC
channel</a> for advice on the particular area you're
interested in.  For larger bodies of work, it is worth writing an <a href="https://github.com/illumos/ipd">illumos
Project Discussion (IPD)</a> document that
describes your plan and seek feedback from advocates and others.</p>
<h2 id="writing-the-code">Writing The Code<a class="headerlink" href="#writing-the-code" title="Permanent link">&para;</a></h2>
<p>Our guide to <a href="../developers/build/">building illumos</a> covers setting up a
build environment and getting the source.  To make sure you have a functional
build environment, it helps to try at least one build without modifying
anything.  This also helps you to familiarise yourself with the build system
and source tree layout.</p>
<p>An unparalleled resource for understanding the operating system is the book,
<a href="http://www.amazon.com/Solaris-Internals-OpenSolaris-Kernel-Architecture/dp/0131482092">Solaris Internals: Solaris 10 and OpenSolaris Kernel
Architecture</a>.</p>
<p>We have an <a href="http://src.illumos.org/">OpenGrok source browser and search engine</a>
which is very useful for development.</p>
<p>Feel free to ask the <a href="../community/lists/">developer mailing list</a> or the
<a href="../community/#irc-channels">IRC channel</a> for help.</p>
<p>We encourage you to "commit early, commit often" as you work, using your
personal clone of illumos-gate.git.</p>
<h2 id="testing">Testing<a class="headerlink" href="#testing" title="Permanent link">&para;</a></h2>
<p>The illumos gate is a core technology leveraged by several commercial vendors
that rely on it to be a stable, well-tested platform.  As such, changes to
illumos require qualified code review from community peers.  A reasonable
effort must also be made to test each change, to ensure that the change is
stable enough for others to rely upon.</p>
<p>Your <a href="../about/leadership#advocates">RTI advocate</a> is the ultimate arbiter of
whether your testing is sufficient.</p>
<p>The scope of required testing depends on the nature of the change and a
discussion with your advocate, but in general advocates adopt a "shrink to fit"
mentality. Here are some examples of reasonable testing based on the collective
experience of the current RTI advocates. Your advocate may always ask for more
testing depending on the nature of the change.</p>
<h3 id="all-changes">All changes<a class="headerlink" href="#all-changes" title="Permanent link">&para;</a></h3>
<p>Make sure you test the results of the illumos-gate build with only your
changesets applied. To do this, you will need to <a href="../developers/build/">build the illumos
code</a>. It is generally insufficient to test the build
results of a downstream fork that contains other non-trivial changes as there
may be implicit dependencies that break other consumers of the core illumos
gate.</p>
<p>If your code has been running in production as part of a downstream
distribution of illumos, or has already gone through other testing, please
include that information.  Your advocate will determine if any additional
testing is required for integration.</p>
<h3 id="changing-a-single-program">Changing a single program<a class="headerlink" href="#changing-a-single-program" title="Permanent link">&para;</a></h3>
<p>If your change affects only a single binary (e.g., <code>/usr/bin/ls</code>), it is likely
sufficient to copy the binary to a system running a distribution with a
reasonable similarity to vanilla illumos-gate and running your tests there.
These tests should cover enough functionality to demonstrate the correctness of
your changes, and could involve stress tests in addition to functional tests
depending on the nature of the change. This assumes that the binary has a
trivial set of library dependencies that are reasonably standard across
distros.</p>
<h3 id="changing-the-implementation-of-a-library">Changing the implementation of a library<a class="headerlink" href="#changing-the-implementation-of-a-library" title="Permanent link">&para;</a></h3>
<p>If your change affects the implementation of a library, but does not change any
externally visible interfaces, you should run tests against a reasonable subset
of programs that exercise the code in question.  As with a single binary, it is
likely sufficient to copy this library to a system running a distribution which
has identical interfaces to the vanilla illumos-gate.</p>
<p>Some core libraries (most notably <code>libc</code>) are challenging to replace on a live
system, so you will likely need to bootstrap a complete new image or boot
environment of your distribution in order to be able to test your changes.  How
to do this depends on your distribution; e.g., OpenIndiana or OmniOS can use
<code>onu</code> to update to new packages from a nightly build.</p>
<h3 id="changing-the-implementation-of-a-driver-or-adding-a-new-driver">Changing the implementation of a driver or adding a new driver<a class="headerlink" href="#changing-the-implementation-of-a-driver-or-adding-a-new-driver" title="Permanent link">&para;</a></h3>
<p>If your change affects a single driver, you may or may not be able to get away
with copying that driver to a system running an alternate distribution. On one
hand, many of the kernel interfaces (e.g., the DDI) are likely identical, but
if the core implementation of that distribution has diverged significantly from
illumos-gate, you may be asked to bootstrap a complete environment from your
vanilla illumos build.  Driver tests should demonstrate a reasonable amount of
functional and stress testing on appropriate hardware.</p>
<h3 id="changing-the-core-kernel-or-multiple-interconnected-binaries">Changing the core kernel or multiple interconnected binaries<a class="headerlink" href="#changing-the-core-kernel-or-multiple-interconnected-binaries" title="Permanent link">&para;</a></h3>
<p>If you are making a change to the core kernel (e.g., <code>unix</code> or <code>genunix</code>), or
have a series of changes across a number of libraries, commands, or kernel
components, they need to be tested as a cohesive whole.  You must bootstrap a
usable environment from your illumos-gate build that is sufficient to
demonstrate the correctness of your changes.</p>
<p>Exactly what "bootstrapping" means is dependent on the distribution, but the
goal is to run the entirety of the your illumos-gate build (not a combination
of downstream and upstream illumos-gate bits) in a testable environment. Not
all distros are capable of bootstrapping a vanilla illumos-gate build; check the
<a href="../about/distro/">distribution list</a> and ask on the <a href="../community/lists/">developer
list</a> if you are unsure of how to do this.</p>
<p>For example, on OpenIndiana or OmniOS, you can use <code>onu</code> to install the
packages produced by a nightly build.  On a SmartOS system, you can build
a wholly new "platform image" and boot a system using it.</p>
<p>The scope of testing here will likely be more substantial, and should focus on
stability of the system as well as the functionality of the changed
component(s).</p>
<p>As always, contact your advocate (or the advocates list if you don't yet have
someone in mind) if you have more questions about what constitutes sufficient
testing for a particular change.  You are welcome to ask for help in creating a
test plan well in advance of completing the work on you change, so that the
advocates can help set expectations and provide feedback throughout the
process.</p>
<h2 id="code-review">Code Review<a class="headerlink" href="#code-review" title="Permanent link">&para;</a></h2>
<p>At least one person (other than you, of course) should review your changes.
These reviewers should have demonstrated expertise in the area in question or
are trusted as knowledgeable by the illumos community at large. If you work for
a commercial entity, it is best to include reviewers from outside your company,
but this is not required.</p>
<p>Your <a href="../about/leadership#advocates">RTI advocate</a> is the ultimate arbiter of
whether your review is sufficient.</p>
<p>If you don't know how to find adequate review, you may post the changes to the
developer mailing list to ask for feedback, or ask the RTI advocates if there
is anyone in particular they'd like to see review the code.</p>
<p>When seeking review, it is generally best to upload to some web-based review or
source hosting system, rather than attach a patch to your list e-mail.  The
illumos project provides a <a href="https://illumos.org/rb">Review Board instance</a>
which you can use with your illumos bug tracker account credentials.  Remember
to mention the issue ID in the email -- if one does not yet exist, please
<a href="https://www.illumos.org/projects/illumos-gate/issues/new">create one</a>!</p>
<h3 id="ensuring-adequate-review">Ensuring adequate review<a class="headerlink" href="#ensuring-adequate-review" title="Permanent link">&para;</a></h3>
<p>It is up to you as a contributor to gather reasonable review to satisfy your
RTI advocate that the code is correct and of high quality. Exactly what this
means will vary based on the nature and scope of the change, but here are some
guidelines that will give the advocates confidence in your changes. As always,
trust your avocate and apply "shrink to fit".</p>
<ul>
<li>There should be at least one code reviewer (focused on the implementation
  details) that is different from the advocate (focused on ensuring overall
  quality of contributions).</li>
<li>For non-trivial changes to major technology areas (ZFS, DTrace, etc), at
  least one of the reviewers should be regarded as a subject matter expert by
  the community.</li>
<li>Changes with significant impact should participate in a public review when
  appropriate, or otherwise ensure that alternate opinions are represented.</li>
<li>When there are disagreements, every attempt should be made to adequately
  address reviewer's comments. In the event they cannot, it is acceptable to
  submit an RTI with known dissent. Such disagreements must be noted in the
  RTI submission with an explanation as to why the review comments were not
  addressed.</li>
</ul>
<p>When in doubt, more review is generally better.  If anything is unclear, or
you're stuck on something, you can always ask the advocates for guidance.</p>
<h2 id="submitting-a-patch">Submitting A Patch<a class="headerlink" href="#submitting-a-patch" title="Permanent link">&para;</a></h2>
<p>When you have adequate code review and test results for your proposed change,
you prepare a "request to integrate" (RTI).</p>
<p>First, in the issue(s) you created in the bug tracker, make sure you have:</p>
<ul>
<li>Any analysis that lead to the fix; e.g., if you used DTrace or MDB to
  determine what went wrong it'd be good to include scripts and/or output
  from your debugging session</li>
<li>Your testing plan and results from your testing.  This could be simple
  for simple changes; e.g., "I ran the updated <code>ls</code> binary and this is
  the new output".  It could also be more detailed for a complicated bug.
  Providing the testing notes in the issue allows the advocate to easily
  see what you did to test, and allows future engineers to better understand
  how to test <em>their</em> changes in the same area of the system.</li>
</ul>
<p>Once your issue(s) are complete, your RTI e-mail should include:</p>
<ul>
<li>The link to the illumos issue(s) you're fixing, e.g.,
  <a href="https://illumos.org/issues/10052">https://illumos.org/issues/10052</a></li>
<li>A link to the changes that were reviewed; e.g., a link to your Review Board
  review</li>
<li>The full "change set description" (i.e., <code>git whatchanged -v origin/master..</code>)
  including:<ul>
<li>Issue number(s) and description(s)</li>
<li><code>Reviewed by: First Last &lt;first.last@example.com&gt;</code> lines</li>
<li>List of files affected</li>
</ul>
</li>
<li>Output of <code>git pbchk</code> (run under <code>bldenv</code> or have <code>/opt/onbld/bin</code> in <code>PATH</code>)</li>
<li>Attach the <code>mail_msg</code> file from a full nightly build, which should be free of
  warnings</li>
<li>Supply information about how the changes were tested (it's sufficient to
  mention that the testing notes appear in the bug tracker)</li>
<li>Attach the actual change as a patch file, as from <code>git format-patch</code></li>
</ul>
<p>Here is an example change description:</p>
<div class="codehilite"><pre><span></span>123 Description of the issue in our tracker
Reviewed by: Jack &lt;jack@eng.sun.com&gt;
Reviewed by: Ohana Matsumae &lt;ohana@kissui.ishikawa.jp&gt;
</pre></div>

<div class="admonition note amending descriptions">
<p class="admonition-title">Note</p>
<p>You can use <code>git commit --amend</code> to edit the commit message.</p>
</div>
<p>An <a href="../about/leadership#advocates">Advocate</a> will need to judge whether your
code review and testing are adequate for the scope of changes you propose.
Note that the advocate's job is not necessarily to review your code, only to
judge whether review and testing was adequate.</p>
<p>When you are ready, send an email to the <a href="https://illumos.topicbox.com/groups/advocates">illumos advocates mailing
list</a>.  Though you
are welcome to subscribe to the list, it is not required; you can
just send mail to <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#100;&#118;&#111;&#99;&#97;&#116;&#101;&#115;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#105;&#108;&#108;&#117;&#109;&#111;&#115;&#46;&#111;&#114;&#103;">&#97;&#100;&#118;&#111;&#99;&#97;&#116;&#101;&#115;&#64;&#108;&#105;&#115;&#116;&#115;&#46;&#105;&#108;&#108;&#117;&#109;&#111;&#115;&#46;&#111;&#114;&#103;</a>. If you're interested
in what past RTIs looked like, you can <a href="https://illumos.topicbox.com/groups/advocates">browse past
messages</a>.</p>
<p>A reasonably complete example issue is <code>10052 "dladm
show-ether" should pick one kstat snapshot and stick with
it</code>:</p>
<ul>
<li><a href="https://www.illumos.org/issues/10052">Bug #10052</a> in the bug tracker includes both analysis and testing notes</li>
<li>The <a href="https://illumos.topicbox.com/groups/advocates/T3b948e263f1d5364-Maa6757c734745876ace18745">RTI mailing list thread</a> shows the sort of interaction you can expect</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Your email needs to be less than 2MB in size.  If your change is
large, compress the patch or make it available over HTTP.  If your
<code>mail_msg</code> is large, something is wrong.</p>
</div>
<p>You should soon get a reply with additional feedback if needed, or a "thank
you" for being part of the illumos developer community!</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/illumos" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.495d10a2.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>